# Context mappings for agent and skill
# Each operation lists the fragments to compose

agent:
  # Task operations (optimized: 4 fragments instead of 7)
  task-start:
    - agent/contract
    - agent/cli
    - agent/deps
    - agent/workflow

  task-create:
    - agent/contract
    - agent/cli

  task-done:
    - agent/contract
    - agent/workflow

  # Epic operations
  epic-create:
    - agent/contract
    - agent/cli

  epic-breakdown:
    - agent/contract
    - agent/cli
    - agent/deps

  epic-review:
    - agent/contract
    - agent/cli
    - shared/milestone

  # PRD operations
  prd-create:
    - agent/contract
    - agent/cli

  prd-breakdown:
    - agent/contract
    - agent/cli
    - agent/deps
    - shared/milestone

  prd-review:
    - agent/contract
    - agent/cli
    - shared/milestone
    - shared/versioning

  # Version operations
  version-bump:
    - agent/contract
    - agent/cli
    - shared/versioning

  # Milestone operations
  milestone-validate:
    - agent/contract
    - agent/cli
    - shared/milestone

  # Test operations
  test-audit:
    - agent/contract
    - agent/cli
    - agent/workflow

  test-debug:
    - agent/contract
    - agent/cli
    - agent/workflow

  # Default fallback
  default:
    - agent/contract
    - agent/cli
    - agent/workflow

skill:
  # All skill contexts include orchestration + reminders
  task-start:
    - skill/orchestration
    - skill/reminders

  prd-breakdown:
    - skill/orchestration
    - skill/reminders
    - shared/milestone

  epic-breakdown:
    - skill/orchestration
    - skill/reminders

  default:
    - skill/orchestration
    - skill/reminders
