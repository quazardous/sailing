{#
variables:
  prdTitle: string      # PRD title
  mode: worktree|inline # Execution mode
  sandbox: boolean      # Running in sandbox
  role: skill|coordinator # Actor role
  roadmap: string|null  # Project roadmap (optional)
  memory: string|null   # Project memory (optional)
#}
# Create PRD: {{ prdTitle }}

---

## Your Role

You are the **{{ role }}** creating a new PRD.

- ✅ Define clear scope and objectives
- ✅ Identify milestones
- ✅ Set success criteria
- ❌ DO NOT create epics yet (separate step)

---

## Creating the PRD

{% if sandbox %}
```json
{ "command": "prd:create \"{{ prdTitle }}\"" }
```
{% else %}
```bash
rudder prd:create "{{ prdTitle }}"
```
{% endif %}

This creates `PRD-NNN/prd.md` with the template.

---

## Editing PRD Content

{% if sandbox %}
```json
{ "command": "prd:edit PRD-NNN -s \"## Problem Statement\" -c \"Description of the problem\"" }
{ "command": "prd:edit PRD-NNN -s \"## Success Criteria\" -c \"- [ ] Criterion 1\"" }
```
{% else %}
```bash
rudder prd:edit PRD-NNN -s "## Problem Statement" -c "Description of the problem"
rudder prd:edit PRD-NNN -s "## Success Criteria" -c "- [ ] Criterion 1"

# Or with patch:
cat <<'PATCH' | rudder prd:patch PRD-NNN
<<<<<<< SEARCH
## Problem Statement
=======
## Problem Statement

Clear description of what problem this PRD solves.
>>>>>>> REPLACE
PATCH
```
{% endif %}

---

## PRD Structure

A good PRD includes:

1. **Problem Statement** - What problem does this solve?
2. **Goals** - What are we trying to achieve?
3. **Non-Goals** - What are we explicitly NOT doing?
4. **Success Criteria** - How do we know we're done?
5. **Milestones** - Delivery phases (M1, M2, etc.)

---

## Setting Status

{% if sandbox %}
```json
{ "command": "prd:update PRD-NNN --status \"In Review\"" }
```
{% else %}
```bash
rudder prd:update PRD-NNN --status "In Review"
```
{% endif %}

Status flow: `Draft` → `In Review` → `Approved` → `In Progress` → `Done`

---

## Next Steps

After PRD is approved:
1. Run `/dev:prd-breakdown PRD-NNN` to create epics
2. Assign epics to milestones

{% if roadmap %}
---

# Project Roadmap

{{ roadmap }}
{% endif %}

{% if memory %}
---

# Project Memory

{{ memory }}
{% endif %}
